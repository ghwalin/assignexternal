{"version":3,"file":"grading_actions.min.js","sources":["../src/grading_actions.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript to handle actions with the grading.\n *\n * @module     mod_assignexternal/grading_actions\n * @copyright  2024 Marcel Suter <marcel@ghwalin.ch>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @since      4.1\n */\nexport const init = () => {\n    document.getElementById('id_submit').addEventListener('click', submitAction);\n    document.getElementById('selectAll').addEventListener('change', selectAll);\n};\n\n/**\n * Submit all selected userids\n */\nfunction submitAction() {\n    const fields = document.getElementsByName('selectbox');\n    const queryString = window.location.search;\n    const urlParams = new URLSearchParams(queryString);\n    const coursemoduleid = urlParams.get('id');\n    let userids = '';\n    for (let i = 0; i < fields.length; i++) {\n        if (fields[i].type === 'checkbox' && fields[i].checked) {\n            userids += '&uid[]=' + fields[i].getAttribute('data-userid');\n        }\n    }\n    window.location.href = './view.php?action=override&id=' + coursemoduleid + userids;\n}\n\n/**\n * Check or uncheck all checkboxes\n */\nfunction selectAll() {\n    const ischecked = document.getElementById('selectAll').checked;\n    const fields = document.getElementsByName('selectbox');\n    for (let i = 0; i < fields.length; i++) {\n        if (fields[i].type === 'checkbox') {\n            fields[i].checked = ischecked;\n        }\n    }\n}"],"names":["submitAction","fields","document","getElementsByName","queryString","window","location","search","coursemoduleid","URLSearchParams","get","userids","i","length","type","checked","getAttribute","href","selectAll","ischecked","getElementById","addEventListener"],"mappings":"kKA+BSA,qBACCC,OAASC,SAASC,kBAAkB,aACpCC,YAAcC,OAAOC,SAASC,OAE9BC,eADY,IAAIC,gBAAgBL,aACLM,IAAI,UACjCC,QAAU,OACT,IAAIC,EAAI,EAAGA,EAAIX,OAAOY,OAAQD,IACR,aAAnBX,OAAOW,GAAGE,MAAuBb,OAAOW,GAAGG,UAC3CJ,SAAW,UAAYV,OAAOW,GAAGI,aAAa,gBAGtDX,OAAOC,SAASW,KAAO,iCAAmCT,eAAiBG,iBAMtEO,kBACCC,UAAYjB,SAASkB,eAAe,aAAaL,QACjDd,OAASC,SAASC,kBAAkB,iBACrC,IAAIS,EAAI,EAAGA,EAAIX,OAAOY,OAAQD,IACR,aAAnBX,OAAOW,GAAGE,OACVb,OAAOW,GAAGG,QAAUI,yBA9BZ,KAChBjB,SAASkB,eAAe,aAAaC,iBAAiB,QAASrB,cAC/DE,SAASkB,eAAe,aAAaC,iBAAiB,SAAUH"}